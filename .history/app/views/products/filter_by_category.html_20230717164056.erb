<div class="container">
  <%= render partial: 'filter' %>
  <%= paginate @products %>

  <% if params[:type_id].present? %>
    <% if @products.any? %>
      <h3 class="title is-5"> Category - <%= Type.find(params[:type_id]).name %></h3>

      <div class="columns is-multiline">
        <% @products.each do |product| %>
          <%= render product %>
        <% end %>
      </div>
    <% else %>
      <p>No products found in this category.</p>
    <% end %>
  <% else %>
    <h3 class="title is-5">All Categories</h3>

    <div class="columns is-multiline">
      <% @products.each do |product| %>
        <%= render product %>
      <% end %>
    </div>
  <% end %>
</div>
